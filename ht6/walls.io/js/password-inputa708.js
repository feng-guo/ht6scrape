"use strict";(function(){var t,n;t=DS.webAppPath+"/js/zxcvbn.js",n=function(){var n,e;return e=document.createElement("script"),e.src=t,e.type="text/javascript",e.async=!0,e.onload=function(){"function"==typeof window.zxcvbn_load_hook&&window.zxcvbn_load_hook()},(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,n)},window.attachEvent?window.attachEvent("onload",n):window.addEventListener("load",n,!1)}).call(void 0);
"use strict";window.PasswordInput=function(n,t,i,r){var o=$(n),e=$(t),s=$(i),a=s.find(".password-strength-indicator-bar"),u=s.find(".password-strength-indicator-minimum");r=r||6;var c=o.val(),d=0,f=[],l=[],g=function(){return!!window.zxcvbn},v=function(){if(g()){var n=zxcvbn(c,f);d=n.guesses_log10}else d=0},p=function(){c=o.val(),v()},w=function(){f=_.map(e,(function(n){return $(n).val()})),f=_.filter(f,(function(n){return!!n})),f=_.map(f,(function(n){return n.split(/[ .,@-]+/g).filter((function(n){return n.length>=3}))})),f=_.flattenDeep(f),v()},h=function(n){void 0===n&&(n=!g()),n?o.addClass("loading"):o.removeClass("loading")},b=function(){if(0!==s.length){h();var n=void 0,t=(n=d<.5?.5:d>10?10:d)/10*100,i=r/10*100,o=["progress-bar-success","progress-bar-warning","progress-bar-danger"],e=void 0;e=t>=80?o[0]:t>=i?o[1]:o[2];var c=parseFloat(i).toFixed(4),f=parseFloat(t).toFixed(4);u.css("left",c+"%"),a.css("width",f+"%"),a.removeClass(o.join(" ")).addClass(e)}};return e.on("input",(function(){w(),b()})),o.on("input",(function(){p(),b()})),window.zxcvbn_load_hook=function(){return g()&&(w(),p(),b(),_.each(l,(function(n){n()})),l=[]),g()},{isInitialized:g,isValid:function(){return d>=r},getStrength:function(){return d},onInit:function(n){g()?n():l.push(n)}}};
"use strict";$(".password-form").each((function(s,i){var n=$(i),a=n.find(".password-input"),d=n.find(".password-other-input"),t=n.find(".password-strength-indicator"),o=new PasswordInput(a,d,t);n.on("submit",(function(s){(a.val()||a.is("[required]"))&&(o.isInitialized()?o.isValid()?n.removeClass("password-invalid"):(s.preventDefault(),n.addClass("password-invalid")):(s.preventDefault(),o.onInit((function(){n.submit()}))))})),a.on("input",(function(){n.hasClass("password-invalid")&&o.isValid()&&n.removeClass("password-invalid")}))}));